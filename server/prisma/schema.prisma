// ◮◮◮ GENERATED BY AURORA ◮◮◮
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Brand {
  id                Int                 @id @default(autoincrement())
  ShoppingListItems ShoppingListItems[]
  name              String

  @@map("brand")
}

model ShoppingListItems {
  id             Int          @id @default(autoincrement())
  shoppingListId Int          @map("shopping_list_id")
  shoppingList   ShoppingList @relation(fields: [shoppingListId], references: [id])
  itemId         Int          @map("item_id")
  item           Item         @relation(fields: [itemId], references: [id])
  quantity       Float        @default(1)
  price          Float?
  amount         Float?
  brandId        Int?         @map("brand_id")
  brand          Brand?       @relation(fields: [brandId], references: [id])

  @@map("shopping_list_items")
}

model Entity {
  id           Int           @id
  shoppingList ShoppingList?
  name         String

  @@map("entity")
}

model ShoppingList {
  id                Int                    @id @default(autoincrement())
  shoppingListItems ShoppingListItems[]
  description       String?
  date              DateTime               @default(now())
  status            ShoppingListStatusEnum @default(OPENED)
  entityId          Int?                   @unique @map("entity_id")
  entity            Entity?                @relation(fields: [entityId], references: [id])

  @@map("shopping_list")
}

model Item {
  id                Int                 @id @default(autoincrement())
  ShoppingListItems ShoppingListItems[]
  name              String

  @@map("item")
}

enum ShoppingListStatusEnum {
  COMPLETED
  OPENED
}
